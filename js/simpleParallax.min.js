!function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n,i){"use strict";!function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[n[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n,i){var o=(new Date).getTime(),a=Math.max(0,16-(o-e)),r=t.setTimeout(function(){n(o+a)},a);return e=o+a,r}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}();var o,a,r=(o=t.getComputedStyle(n.documentElement,""),"moz"==(a=(Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/)||""===o.OLink&&["","o"])[1])?"Moz":a);e.fn.simpleParallax=function(n){var i="simpleParallax",o=e.extend({orientation:"up",scale:"1.2"},n),a=!1;function l(n){this.name=i,this.$element=n,this.$elementContainer=this.$element.closest(".simpleParallax"),this.init(),this.scrollEvent=this.scrollEvent.bind(this),e(t).on("scroll",this.scrollEvent)}return e.extend(l.prototype,{init:function(){a||(this.getViewportOffset(),a=!0),this.$element[0].style[r+"Transform"]="scale("+o.scale+")",this.proceedElement()},getViewportOffset:function(){var n=this;n.viewportHeight=e(t).outerHeight(),n.viewportTopX=e(t).scrollTop(),n.viewportBottomX=n.viewportTopX+n.viewportHeight,n.viewportTopX-=20,n.viewportBottomX+=20},getElementOffset:function(){var e=this;e.elementHeight=e.$elementContainer.outerHeight(),e.elementWidth=e.$elementContainer.outerWidth(),e.elementTopX=e.$elementContainer.offset().top,e.elementBottomX=e.elementTopX+e.elementHeight},getElementDimension:function(){var e=this;e.elementImageHeight=e.$element[0].getBoundingClientRect().height,e.elementImageWidth=e.$element[0].getBoundingClientRect().width,e.elementRange=Math.abs(e.elementHeight-e.elementImageHeight)},isVisible:function(){var e=this;return e.elementTopX>e.viewportTopX&&e.elementTopX<e.viewportBottomX||e.elementBottomX<e.viewportBottomX&&e.elementBottomX>e.viewportTopX||e.elementTopX<e.viewportTopX&&e.elementBottomX>e.viewportBottomX},calculate:function(){var e=this,t=(t=e.elementRange)-.2*t;"down"!==o.orientation&&"right"!==o.orientation||(t*=-1);var n=(e.viewportBottomX-e.elementTopX)/((e.viewportHeight+e.elementHeight)/100);e.translateValue=n/100*t-t/2},animate:function(){var e,t;"up"==o.orientation||"down"==o.orientation?e="translateY":"left"!=o.orientation&&"right"!=o.orientation||(e="translateX"),t="scale("+o.scale+") "+e+"("+this.translateValue+"px)",this.$element[0].style[r+"Transform"]=t},scrollEvent:function(){this.getViewportOffset(),this.proceedElement()},proceedElement:function(){var e=this;e.getElementOffset(),e.isVisible()&&(e.getElementDimension(),e.calculate(),t.requestAnimationFrame(function(){e.animate()}))}}),this.each(function(){var t=e(this);t.closest("picture").length&&(t=e(this).closest("picture")),t.wrap('<div class="simpleParallax" style="overflow:hidden"></div>'),new l(e(this))})}});